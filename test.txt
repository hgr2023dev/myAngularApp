import { Injectable, OnInit } from '@angular/core';
import { ToastConfig } from '../../interfaces/toast-config';
import { Observable } from 'rxjs';
import { ToastrService } from 'ngx-toastr';

@Injectable({
  providedIn: 'root',
})
export class NotificationService implements OnInit {
  public toastConfig: ToastConfig;
  confirmBox: Observable<any>;
  constructor(public snotifyService: ToastrService) {
    this.toastConfig = {
      title: 'Snotify title',
      body: 'Lorem ipsum dolor sit',
      timeout: 3000,
      position: 'toast-top-right',
      progressBar: true,
      closeClick: true,
      newTop: true,
      backdrop: -1,
      dockMax: 6,
      pauseHover: true,
      maxHeight: 300,
      titleMaxLength: 15,
      bodyMaxLength: 80,
    };
  }
  ngOnInit(): void {
    // this.snotifyService.toastrConfig(
    //   {
    //     timeout: 3000,
    //     titleMaxLength: 14,
    //     bodyMaxLength: 40,
    //   },
    //   {
    //     newOnTop: false,
    //     position: this.toastConfig.position,
    //     maxHeight: 500,
    //   }
    // );
  }

  showSuccess(message: string, title: string) {
    this.snotifyService.success(message, title);
  }

  showError(message: string, title: string) {
    this.snotifyService.error(message, title);
  }

  showInfo(message: string, title: string) {
    this.snotifyService.info(message, title);
  }

  showWarning(message: string, title: string) {
    this.snotifyService.warning(message, title);
  }
  clear() {
    this.snotifyService.clear();
  }
}
